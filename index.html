<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USVI Retreats</title>
    <link rel="stylesheet" href="src/styles/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap" rel="stylesheet">

  
</head>

<body>
    <!-- Header Section -->
    <header>
        <div class="container">
            <div id="branding">
                <a href="index.html" style="display: flex; align-items: center; text-decoration: none;">
                    <img src="public/Pictures/USVI Retreats Logo_v2.webp" alt="USVI Retreats Logo" style="height: 50px; margin-right: 10px;">
                    <h1 style="margin: 0;">USVI Retreats</h1>
                </a>
            </div>
            <nav>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="yachts.html">Yachts</a></li>
                    <li><a href="accommodations.html">Accommodations</a></li>
                    <li><a href="about.html">About</a></li>
                    <!-- Auth Toggle / User Menu -->
                    <li class="auth-container">
                        <div id="auth-status">
                            <!-- This button toggles the auth-form dropdown for email link login -->
                            <button id="auth-toggle" class="auth-toggle" style="display: block;">Login</button>

                            <!-- User Menu: Shown when logged in -->
                            <div id="user-menu" class="user-menu" style="display: none;">
                                <span id="user-display" class="user-email-display"></span>
                                <button id="logout-btn" class="logout-button">Logout</button>
                            </div>

                            <!-- Auth Form Dropdown: Shown by auth-toggle when logged out -->
                            <div id="auth-form" class="auth-form">
                                <form id="auth-form-content">
                                    <input type="email" name="email" placeholder="Enter your email" required>
                                    <button type="submit" id="send-link-btn">Send Login Link</button>
                                </form>
                                <hr style="margin: 10px 0;">
                                <button type="button" id="google-login-btn-header" class="google-login-button">Login with Google</button>
                            </div>
                        </div>
                    </li>
                    <li>
                        <button class="custom-cart-toggle">Cart</button>
                    </li>
                </ul>
            </nav>
        </div>
    </header>


    <main>
        <!-- Showcase Section -->
        <section id="showcase">
            <div class="container">
                <img class="banner-image" src="./public/Pictures/beaches/bannerbeach1.webp" alt="Beautiful beach banner">
                <div class="showcase-content">
                    <h1>Visit Paradise</h1>
                    <p>Explore new adventures</p>
                </div>
            </div>
        </section>

        <!-- Retreat Experience Section -->
        <section id="retreat-experience">
            <div class="container">
                <div class="mission-statement">
                    <h2>The Ultimate Caribbean Retreat Experience</h2>
                    <p>Experience the perfect blend of luxury, creativity, and Caribbean hospitality at Estate St. Peter. Our comprehensive retreat packages are designed to provide an immersive experience that combines world-class accommodations with curated services, allowing you to focus on what matters most - whether that's artistic inspiration, business development, or personal renewal.</p>
                    
                    <p>Located on the pristine shores of St. Thomas, our exclusive estate offers a sanctuary where luxury meets authenticity. From private villa accommodations to personalized concierge services, every detail is crafted to exceed your expectations and create lasting memories in paradise.</p>
                </div>
            </div>
        </section>

        <!-- Retreat Packages Section -->
        <section id="retreat-packages">
            <div class="container">
                <div class="mission-statement">
                    <h2>Curated Retreat Packages</h2>
                    <p>Choose from our specially designed retreat experiences, each offering a unique blend of luxury accommodation, personalized services, and authentic Caribbean experiences.</p>
                </div>

                <div class="package-grid">
                    <!-- Artist Retreat Package -->
                    <div class="package-box">
                        <img src="public/Pictures/villas/Villa Alhambra.webp" alt="Artist Retreat at Estate St. Peter">
                        <h3>Artist Retreat</h3>
                        <p>4 Days, 3 Nights for 6 Guests</p>
                        <p><strong>$27,000 Total Package</strong></p>

                        <button class="btn btn-info" data-toggle="collapse" data-target="#artist-retreat-flavor">More Info</button>

                        <div id="artist-retreat-flavor" class="flavor-content">
                            <p>An immersive creative experience designed for artists seeking inspiration in paradise.</p>
                            <ul class="flavor-textList">
                                <li>St. Thomas Villa accommodation for 6 guests</li>
                                <li>Private yacht experience</li>
                                <li>Daily catering with local cuisine</li>
                                <li>Airport transport and insurance included</li>
                                <li>Dedicated creative spaces and inspiring locations</li>
                                <li>4 days, 3 nights of pure artistic immersion</li>
                            </ul>
                            <div class="booking-container">
                                <button class="booking-btn" data-package="artist-retreat">Check Availability</button>
                            </div>
                        </div>
                    </div>

                    <!-- External Host Package -->
                    <div class="package-box">
                        <img src="public/Pictures/villas/Tower Villa.webp" alt="External Host Retreat">
                        <h3>External Host & Upgrades</h3>
                        <p>Premium hosted retreat experience</p>
                        <p><strong>$30,000 Base Package</strong></p>

                        <button class="btn btn-info" data-toggle="collapse" data-target="#external-host-flavor">More Info</button>

                        <div id="external-host-flavor" class="flavor-content">
                            <p>A fully-hosted premium retreat experience with professional support and luxury upgrades.</p>
                            <ul class="flavor-textList">
                                <li>St. Thomas Villa with premium accommodations</li>
                                <li>Daily catering (1 meal per day included)</li>
                                <li>Transport Package with dedicated driver (+$3,500)</li>
                                <li>Concierge & Liaison services (+$5,000)</li>
                                <li>Additional daily meal upgrade (+$3,000)</li>
                                <li>Professional coordination and communication support</li>
                                <li>Customizable experience based on your needs</li>
                            </ul>
                            <div class="booking-container">
                                <button class="booking-btn" data-package="external-host-retreat">Check Availability</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Estate St. Peter Section -->
        <section id="packages">
            <div class="container">
                <div class="mission-statement">
                    Find your own little slice of paradise at Estate St. Peter, where lush
                    green hills meet turquoise waters, and luxury accommodations await your perfect getaway.
                </div>

                <div class="estate-header">
                    <h2>Estate St. Peter Villas</h2>
                    <p class="estate-subtitle">Five-villa estate with 10 ensuite bedrooms, multiple pools and spectacular views</p>
                    <div class="feature-tags">
                        <span>Sleeps 20</span>
                        <span>10 Bedrooms</span>
                        <span>11 Bathrooms</span>
                        <span>2 Pools</span>
                        <span>Catering</span>
                    </div>
                    <div class="estate-amenities">
                        <h2>Estate Amenities</h2>
                        <div class="amenities-grid">
                            <div class="amenities-column">
                                <h3>Essentials</h3>
                                <ul>
                                    <li>High-Speed WiFi</li>
                                    <li>Air Conditioning</li>
                                    <li>5 Full Kitchens</li>
                                    <li>Catering</li>
                                    <li>Automatic Generator</li>
                                </ul>
                            </div>
                            <div class="amenities-column">
                                <h3>Outdoor Features</h3>
                                <ul>
                                    <li>Two Private Pools</li>
                                    <li>Two Hot Tubs</li>
                                    <li>Multiple Gardens</li>
                                    <li>Outdoor Fireplace</li>
                                    <li>Multiple Grilling Areas</li>
                                </ul>
                            </div>
                            <div class="amenities-column">
                                <h3>Entertainment</h3>
                                <ul>
                                    <li>Satellite TV</li>
                                    <li>Books and Games</li>
                                    <li>Two Outdoor Bars</li>
                                    <li>Entertainment Areas</li>
                                    <li>Rooftop Deck</li>
                                </ul>
                            </div>
                            <div class="amenities-column">
                                <h3>Services</h3>
                                <ul>
                                    <li>24/7 Concierge</li>
                                    <li>Daily Maid Service</li>
                                    <li>Front Door Parking</li>
                                    <li>Security System</li>
                                    <li>Airport Transfer Available</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
            <!-- Creative Retreat Application Section -->
        <section id="creative-retreat-application" class="container">
            <h2>USVI Creative Retreat Application – 2026</h2>
            <p class="mission-statement" style="text-align: left; margin-bottom: 2rem;">
                This isn’t just a getaway. It’s a shared space for artistic exploration, creative rhythm, and honest presence. These retreats are for those ready to create not from pressure—but from stillness, trust, and deep collaboration. If you’re feeling called, begin here. Take your time. There’s no rush.
            </p>
            <form id="creativeRetreatForm" class="styled-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="crFullName">Full Name (Required)</label>
                        <input type="text" id="crFullName" name="fullName" required>
                    </div>

                    <div class="form-group">
                        <label for="crEmail">Email (Required)</label>
                        <input type="email" id="crEmail" name="email" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="crPhone">Phone (Optional)</label>
                        <input type="tel" id="crPhone" name="phone">
                    </div>

                    <div class="form-group">
                        <label for="crLocation">Where are you based? (Required)</label>
                        <input type="text" id="crLocation" name="location" required>
                    </div>
                </div>

                <div class="form-group" id="retreatDatesGroup">
                    <label for="crRetreatDates">Which retreat dates are you interested in? (Required)</label>
                    <select id="crRetreatDates" name="retreatDates" required>
                        <option value="">Select dates...</option>
                        <option value="2026-jun-05-08">June 5-8, 2026</option>
                        <option value="2026-jul-10-13">July 10-13, 2026</option>
                        <option value="2026-aug-14-17">August 14-17, 2026</option>
                        <option value="other">Other/Flexible (Please specify below)</option>
                    </select>
                    <p id="crSelectedDatesFromCart" style="display:none; margin-top: var(--space-xs); font-style: italic;"></p>
                    <input type="hidden" id="crHiddenRetreatDates">
                </div>
                <div class="form-group">
                    <label for="crWhatYouCreate">What do you create, build or lead? (Required)</label>
                    <p class="form-hint">“You don’t need to be a professional artist. But we are all creators. Tell me how you express yours.”</p>
                    <textarea id="crWhatYouCreate" name="whatYouCreate" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label for="crCraft">What do you consider your craft? (Required)</label>
                    <textarea id="crCraft" name="craft" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label for="crMostAlive">Where do you feel most alive in your work or practice? (Required)</label>
                    <textarea id="crMostAlive" name="mostAlive" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label for="crWhyDrawn">Why are you drawn to this retreat now? (Required)</label>
                    <textarea id="crWhyDrawn" name="whyDrawn" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label for="crConnection">What kind of connection or collaboration are you craving? (Required)</label>
                    <textarea id="crConnection" name="connection" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label for="crHopeToReturn">What do you hope to return with? (Required)</label>
                    <textarea id="crHopeToReturn" name="hopeToReturn" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label for="crAccessibility">Do you have any accessibility or accommodation needs? (Optional)</label>
                    <textarea id="crAccessibility" name="accessibility" rows="3"></textarea>
                </div>

                <div class="form-group" id="paymentPreferenceGroup">
                    <label>How do you prefer to invest in this kind of experience? (Required)</label>
                    <div><input type="radio" id="payInFull" name="paymentPreference" value="pay_in_full" required><label for="payInFull">Ready to pay in full</label></div>
                    <div><input type="radio" id="paymentPlan" name="paymentPreference" value="payment_plan"><label for="paymentPlan">Payment plan</label></div>
                    <div><input type="radio" id="scholarship" name="paymentPreference" value="scholarship"><label for="scholarship">Explore partial scholarship</label></div>
                    <div><input type="radio" id="notSure" name="paymentPreference" value="not_sure"><label for="notSure">Not sure yet</label></div>
                </div>

                <div class="form-group">
                    <label for="crAnythingElse">Anything else you want to share, ask, or leave here? (Optional)</label>
                    <textarea id="crAnythingElse" name="anythingElse" rows="3"></textarea>
                </div>

                <button type="submit" class="btn-book">Submit Application</button>
            </form>
        </section>

    <footer>
        <div class="container">
            <div class="package-grid" style="padding: 2rem 0;">
                <!-- Company Info -->
                <div class="flavor-content active">
                    <h3>USVI Retreats</h3>
                    <ul class="flavor-textList">
                        <li>Luxury Villa Rentals</li>
                        <li>St. Thomas, USVI</li>
                        <li>Contact: +1 (555) 123-4567</li>
                        <li>Email: info@usviretreats.com</li>
                    </ul>
                </div>

                <!-- Quick Links -->
                <div class="flavor-content active">
                    <h3>Quick Links</h3>
                    <ul class="flavor-textList">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="yachts.html">Yachts</a></li>
                        <li><a href="accommodations.html">Services</a></li>
                        <li><a href="about.html">About Us</a></li>
                    </ul>
                </div>

                <!-- Services -->
                <div class="flavor-content active">
                    <h3>Our Services</h3>
                    <ul class="flavor-textList">
                        <li>Luxury Villas</li>
                        <li>Private Catering</li>
                        <li>Concierge Service</li>
                        <li>Airport Transfers</li>
                    </ul>
                </div>

                <!-- Follow Us -->
                <div class="flavor-content active">
                    <h3>Follow Us</h3>
                    <ul class="flavor-textList">
                        <li>Instagram</li>
                        <li>Facebook</li>
                        <li>Twitter</li>
                        <li>LinkedIn</li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <button id="backToTop" title="Go to top">↑</button>
    <button class="cart-float">
        <i class="fa fa-shopping-cart"></i>
        <span class="cart-count">0</span>
    </button>
      
    <div class="cart-panel">
        <div class="cart-items">
            <!-- Cart items will be populated here via JavaScript -->
        </div>
        <div class="cart-total">
            <span>Total:</span>
            <span class="total-amount">$0.00</span>
        </div>
        <button class="checkout-btn">Checkout</button>
    </div>
    
    <!-- Booking Calendar Modal -->
    <div id="calendarModal" class="calendar-modal">
        <div class="calendar-content">
            <button class="close-calendar">&times;</button>
            <h3 class="calendar-title">Book Your Stay</h3>

            <!-- Date Selection Display -->
            <div id="selectedDates">
                <span id="checkInDisplay">Check-in: Not selected</span>
                <span id="checkOutDisplay">Check-out: Not selected</span>
            </div>

            <!-- Calendar -->
            <div class="calendar-header">
                <button id="prevMonth">&larr;</button>
                <h3 id="currentMonth"></h3>
                <button id="nextMonth">&rarr;</button>
            </div>
            <div class="calendar-grid" id="calendarGrid"></div>

            <!-- Booking Options -->
            <div class="booking-options">
                <div class="guests-rooms-section">
                    <div class="input-group">
                        <label for="guestCount">Guests</label>
                        <div class="number-input">
                            <button type="button" class="decrease">-</button>
                            <input type="number" id="guestCount" min="1" max="10" value="1">
                            <button type="button" class="increase">+</button>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="roomCount">Rooms</label>
                        <div class="number-input">
                            <button type="button" class="decrease">-</button>
                            <input type="number" id="roomCount" min="1" max="5" value="1">
                            <button type="button" class="increase">+</button>
                        </div>
                    </div>
                </div>

                <div class="services-section">
                    <h4>Additional Services</h4>
                    <div class="services-options">
                        <div class="service-option">
                            <input type="checkbox" id="cateringService">
                            <label for="cateringService">Daily Catering ($750/day)</label>
                        </div>
                        <div class="service-option">
                            <input type="checkbox" id="transportService">
                            <label for="transportService">Airport Transport & Insurance ($550)</label>
                        </div>
                    </div>
                </div>

                <div class="total-section">
                    <span class="total-label">Estimated Total:</span>
                    <span class="total-amount" id="totalAmount">$0</span>
                </div>
            </div>

            <button id="confirmDates" class="confirm-dates" disabled>Set Booking</button>
        </div>
    </div>
    
    <div id="bookingOrb" class="booking-orb modal-btn">
        <span class="booking-orb-icon">📅</span>
    </div>
    
    <div class="booking-details-panel">
        <div class="booking-detail-item">
            <span>Property:</span>
            <span id="orbProperty"></span>
        </div>
        <div class="booking-detail-item">
            <span>Check-in:</span>
            <span id="orbCheckIn"></span>
        </div>
        <div class="booking-detail-item">
            <span>Check-out:</span>
            <span id="orbCheckOut"></span>
        </div>
        <div class="booking-detail-item">
            <span>Guests:</span>
            <span id="orbGuests"></span>
        </div>
        <div class="booking-detail-item">
            <span>Services:</span>
            <span id="orbServices"></span>
        </div>
        <div class="booking-detail-item">
            <span>Total:</span>
            <span id="orbTotal"></span>
        </div>
    </div>

    <div id="bookingInquiryModal" class="inquiry-modal">
        <div class="inquiry-content">
            <button class="close-inquiry">&times;</button>
            <h3>Complete Your Booking Request</h3>
            <div id="bookingSummary" class="booking-summary">
                <!-- Filled dynamically -->
            </div>
            <form id="inquiryForm" class="inquiry-form">
                <div class="form-group">
                    <input type="text" id="fullName" name="fullName" placeholder="Full Name" required>
                </div>
                <div class="form-group">
                    <input type="email" id="email" name="email" placeholder="Email Address" required>
                </div>
                <div class="form-group">
                    <input type="tel" id="phone" name="phone" placeholder="Phone Number" required pattern="[0-9]{10}" title="Please enter a valid 10-digit phone number">
                </div>
                <div class="form-group">
                    <textarea id="specialRequests" name="specialRequests" placeholder="Special Requests or Questions"></textarea>
                </div>
                <button type="submit" class="submit-inquiry">Submit Booking Request</button>
            </form>
        </div>
    </div>
    
    <!-- Auth Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('auth-modal').style.display='none'">&times;</span>
            <form id="modal-auth-form-content">
                <div id="login-section">
                    <h2>Login with Email Link</h2>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Enter your email" required>
                    </div>
                    <button type="submit">Send Login Link</button>
                </div>
            </form>
        </div>
    </div>

    <!-- User Menu -->
    <div id="user-menu" class="user-menu">
        <div id="user-display"></div>
        <button id="logout-btn">Logout</button>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js" defer></script>
    <!-- Firebase scripts - Load BEFORE your main module script -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js" defer></script>
    <script type="module" src="./src/components/index.js"></script>

</body>
</html>